// all emojis


// people and faces emoji = 78
// animals emoji = 74
// plants and flowers emoji = 38
// fashion and accessories emoji = 24
// heart and love emoji = 29
// weather and time emoji = 57
// food and drinks emoji = 42
// sports, games and hobbies emoji = 38
// buildings, locations and landmarks emoji = 32
// transport emoji = 59
// books, envelopes and stationery emoji = 55
// technology emoji = 48
// numbers and letters emoji = 30
// hand signs and arrows emoji = 53
// zodaic signs emoji = 13
// symbols emoji = 25
// other emoji = 124



//ASCII - 
//	from 32 to 126
//	total ascii values 95


//subtracting all ascii values by 31
//to start it from value 1
//rather than 32(ascii of space)


var allemojis = '😄😃😀😊☺😉😍😘😚😗😙😜😝😛😳😁😔😌😒😞😣😢😂😭😪😥😰😅😓😩😫😨😱😠😡😤😖😆😋😷😎😴😵😲😟😦😧😈👿😮😬😐😕😯😶😇😏😑👲👳👮👷💂👶👦👧👨👩👴👵👱👼👸👹👺💀👽💩😺😸😻😽😼🙀😿😹😾🐵🙈🙉🙊🐶🐺🐱🐭🐹🐸🐯🐨🐻🐷🐽🐮🐗🐒🐴🐑🐘🐼🐧🐦🐤🐥🐣🐔🐍🐢🐛🐝🐜🐞🐌🐙🐚🐠🐟🐬🐳🐋🐄🐏🐀🐃🐅🐇🐉🐎🐐🐓🐕🐖🐁🐂🐲🐡🐊🐫🐪🐆🐈🐩🐾💐🌸🌷🍀🌹🌻🌺🍁🍃🍂🌿🌾🍄🌵🌴🌲🌳🌰🌱🌼🍎🍏🍊🍋🍒🍇🍉🍓🍑🍈🍌🍐🍍🍠🍆🍅🌽💮🎩👑👒👟👞👡👠👢👕👔👚👗🎽👖👘👙💼👜👝👛👓🎀🌂💄💛💙💜💚❤💔💗💓💕💖💞💘💌💋💍💎👤👥💬👣💭💝👫👪👬👭💏💑💟🌐🌞🌝🌚🌑🌒🌓🌔🌕🌖🌗🌘🌜🌛🌙🌍🌎🌏🌋🌌🌠⭐☀⛅☁⚡☔❄⛄🌀🌁🌈🌊🕛🕧🕐🕜🕑🕝🕒🕞🕓🕟🕔🕠🕕🕖🕗🕘🕙🕚🕡🕢🕣🕤🕥🕦☕🍵🍶🍼🍺🍻🍸🍹🍷🍴🍕🍔🍟🍗🍖🍝🍛🍤🍱🍣🍥🍙🍘🍚🍜🍲🍢🍡🍳🍞🍩🍮🍦🍨🍧🎂🍰🍪🍫🍬🍭🍯🎨🎬🎤🎧🎼🎵🎶🎹🎻🎺🎷🎸👾🎮🃏🎴🀄🎲🎯🏈🏀⚽⚾🎾🎱🏉🎳⛳🚵🚴🏁🏇🏆🎿🏂🏊🏄🎣🏠🏡🏫🏢🏣🏥🏦🏪🏩🏨💒⛪🏬🏤🌇🌆🏯🏰⛺🏭🗼🗾🗻🌄🌅🌃🗽🌉🎠🎡⛲🎢🚢⛵🚤🚣⚓🚀✈💺🚁🚂🚊🚉🚞🚆🚄🚅🚈🚇🚝🚋🚃🚎🚌🚍🚙🚘🚗🚕🚖🚛🚚🚨🚓🚔🚒🚑🚐🚲🚡🚟🚠🚜💈🚏🎫🚦🚥⚠🚧🔰⛽🏮🎰♨🗿🎪🎭📍🚩📧📥📤✉📩📨📯📫📪📬📭📮📦📝📄📃📑📊📈📉📜📋📅📆📇📁📂✂📌📎✒✏📏📐📕📗📘📙📓📔📒📚📖🔖📛📛🔭📰💰💴💵💷💶💳💸🎥📷📹📼💿📀💽💾💻📱☎📞📟📠📡📺📻🔊🔉🔈🔇🔔🔕📢📣⏳⌛⏰⌚🔓🔒🔏🔐🔑🔎💡🔦🔌🔋🔍🔧🔩🔨📲📶🎦📳📴🔤ℹ🆗🆕🆙🆒🆓🆖🅿Ⓜ🆑🆘🆔🆚🅰🅱🆎🅾©®💯™🔠🏧‼⁉❗❓❕❔👍👎👌👊✊✌👋✋👐👆👇👉👈🙌🙏☝👏💪💅⬇⬅➡↗↖↘↙↔↕🔄◀▶🔼🔽↩↪⏪⏩⏫⏬⤵⤴🔀🔁🔂🔝🔚🔙🔛🔜🔃🔺🔻⬆♈♉♊♋♌♍♎♏♐♑♒♓⛎🚻🚹🚺🚼🚾🚰🚮♿🚭🛂🛄🛅🛃🚫🔞📵🚯🚱🚳🚷🚸⛔♻💠➿🎍🎎🎒🎓🎏🎆🎇🎐🎑🎃👻🎅🎄🎁🎋🎉🎊🎈🎌🔮🔆🔅🛁🛀🚿🚽🚪🚬💣🔫🔪💊💉🔥✨🌟💫💥💢💦💧💤💨👂👀👃👅👄🚶🏃💃👯🙆🙅💁🙋💆💇👰🙎🙍🙇🔯💹💲💱❌⭕✖➕➕➗♠♥♣♦✔☑🔘🔗➰〰〽🔱◼◻◾◽▪▫🔲🔳⚫⚪🔴🔵⬜⬛🔶🔷🔸🔹🈁🈯🈳🈵🈴🈲🉐🈹🈺🈶🈚🈷🈸🈂🉑㊙㊗✳❇✴❎✅';

var key = "";
var emoji = "";
var ascii = 0;

allemojis = [...allemojis];

console.log(allemojis.length);
console.log(allemojis);









// encryption process

function myFunction() {

	var inputText = document.getElementById("t-input").value;
	var encrypted = "";





	// generating random number

	function randomNumber(min, max) {
		return Math.random() * (max - min) + min;
	}

	var random = Math.floor(randomNumber(0, allemojis.length));
	console.log(random);

	key = allemojis[random];


	console.log(key);




	//reversing the text 

	inputText = inputText.split('').reverse().join('');



	//converting the text

	for (i = 0; i <= inputText.length - 1; i++) {

		ascii = inputText.charCodeAt(i) - 31;

		if (random > ascii) {
			emoji = allemojis[random - ascii];
		} else {
			emoji = allemojis[random + ascii];
		}

		encrypted = encrypted + emoji;
	}


	//adding the key to the encrypted text

	encrypted = key + encrypted + key;

	if (inputText.length == 0) {
		encrypted = "Get back & Try Again";
		document.getElementById("try-again").innerHTML = "You didn't write";
		document.getElementById("e_copy").innerHTML = "BACK";
	}
	
	
	else {
		document.getElementById("try-again").innerHTML = "Here is your <br><br> &quot;encrypted text&quot;";
		document.getElementById("e_copy").innerHTML = "COPY";
	}


	console.log(encrypted);

	document.getElementById("e-output").innerHTML = encrypted;
}









//decryption process

function myFunction1() {


	//	var letterMap1 = {
	//		"🙂": "A",
	//		"🤓": "B",
	//		"🐒": "C",
	//		"⛵": "D",
	//		"🐦": "E",
	//		"😎": "F",
	//		"🌲": "G",
	//		"🐢": "H",
	//		"🐎": "I",
	//		"⚽": "J",
	//		"👑": "K",
	//		"🐕": "L",
	//		"🙃": "M",
	//		"🍓": "N",
	//		"😍": "O",
	//		"🎂": "P",
	//		"🏵": "Q",
	//		"🐇": "R",
	//		"🍬": "S",
	//		"⭐": "T",
	//		"🏈": "U",
	//		"😵": "V",
	//		"🐩": "W",
	//		"🌻": "X",
	//		"🍇": "Y",
	//		"🚀": "Z",
	//		"🎃": "0",
	//		"🩱": " ",
	//	};
	//
	//
	//
	//	var inputText = document.getElementById("e-input").innerHTML;
	//	inputText = [...inputText];
	//	var decrypted = "";
	//	for (var i = 0; i < inputText.length; i++) {
	//		decrypted += letterMap1[inputText[i]] || inputText[i];
	//	}
	//	//        function clearInput(element) {
	//	//            element.value = "";
	//	//        }
	//	document.getElementById("t-output").innerHTML = decrypted;









	/*****************************************************************/


	var inputText = document.getElementById("e-input").value;

	//	if (inputText.length == 0) {
	//		decrypted = "";
	//		document.getElementById("try-again").innerHTML = "You did't write.<br>Get back &<br>Try Again";
	//		document.getElementById("t_copy").innerHTML = "BACK";
	//	}


	inputText = [...inputText];
	var decrypted = "";

	console.log(inputText);






	// extracting the random number and the key


	key = inputText[0];
	console.log(key);

	random = allemojis.indexOf(key);
	console.log(random);




	for (j = 1; j <= inputText.length - 2; j++) {

		//extracting each emoji
		var ch = inputText[j];
		
		console.log(ch);

		//searching it from all emojis
		// n is the ascii value
		var n = allemojis.indexOf(ch);
		console.log(n);

		if (random > n) {
			var t = String.fromCharCode(random - n + 31);
			decrypted = decrypted + t;
			console.log(decrypted);
		}
		if (random < n) {
			var t = String.fromCharCode(n - random + 31);
			decrypted = decrypted + t;
			console.log(decrypted);
		}

		//		
		//		console.log(ch);
		//		console.log(n);
	}

	decrypted = decrypted.split('').reverse().join('');

	console.log(decrypted);


	//
	//	if (inputText.length == 0) {
	//		decrypted = "";
	//		document.getElementById("try-again").innerHTML = "You did't write.<br>Get back &<br>Try Again";
	//		document.getElementById("t_copy").innerHTML = "BACK";
	//	}



	if (decrypted == "") {
		decrypted = "There's something wrong";
		document.getElementById("try-again").innerHTML = "WRONG EMOJIS";
		document.getElementById("t_copy").innerHTML = "BACK";
	}
	if (inputText == "") {
		decrypted = "Where are your emojis 🤨";
		document.getElementById("try-again").innerHTML = "NO EMOJIS ???";
		document.getElementById("t_copy").innerHTML = "BACK";
	}




	document.getElementById("t-output").innerHTML = decrypted;
//	var res = str.replace("Microsoft", "W3Schools");

	//reversing the text 

	//	inputText = inputText.split('').reverse().join('');
	//
	//
	//
	//	//converting the text
	//
	//	for (i = 0; i <= inputText.length - 1; i++) {
	//
	//		ascii = inputText.charCodeAt(i) - 31;
	//
	//		if (random > ascii) {
	//			emoji = allemojis[random - ascii];
	//		} else {
	//			emoji = allemojis[random + ascii];
	//		}
	//
	//		encrypted = encrypted + emoji;
	//	}
	//
	//
	//	//adding the key to the encrypted text
	//
	//	encrypted = key + encrypted + key;
	//
	//	if (inputText.length == 0) {
	//		encrypted = "";
	//		document.getElementById("try-again").innerHTML = "You did't write.<br>Get back &<br>Try Again";
	//		document.getElementById("e_copy").innerHTML = "BACK";
	//	}
	//
	//
	//
	//
	//	console.log(encrypted);
	//
	//	document.getElementById("e-output").innerHTML = encrypted;


}